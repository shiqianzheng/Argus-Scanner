# Argus-Scanner 功能演示与测试指导书

> **面向汇报人/演示组员**：本手册旨在帮助您在短时间内掌握 Argus-Scanner 的核心演示流程，并在演示中精准展示项目的**技术亮点（加分点）**。

---

## 第一阶段：环境快速配置 (环境自检)
在演示开始前，请确保宿主机已安装 Python 3.8+ 及 Docker 环境。

1. **环境自检与预热**：
   运行项目根目录下的自检脚本，并进行一次全量扫描以预热 Docker 镜像（下载必要的 `strace` 工具）。
   ```bash
   python check_env.py
   # 演示前预跑一次，确保 Docker 镜像已就绪
   python main.py test_cases/test_python_rce.py --dynamic-only
   ```
   *   **加分点提白**：强调系统具备完善的依赖检查逻辑，自动验证 Docker API 可用性及各语言解析引擎状态。
   *   **注意事项**：首次运行动态监控会从 Debian 源下载 `strace`，请确保网络通畅或提前完成预热。

---

## 第二阶段：核心功能演示 (命令行 CLI 为主)
演示应遵循 **"由浅入深、点面结合"** 的顺序。请按照以下步骤操作：

### 1. 深度静态污点扫描 (Static-Taint)
展示系统如何追踪危险数据的流向，检测如命令注入（RCE）等高危漏洞。
```bash
# 扫描 Python 漏洞样本
python main.py test_cases/test_python_rce.py --static-only
```
*   **演示重点**：在输出的控制台中寻找 `[HIGH] Command Injection` 字样。
*   **答辩要点**：介绍我们基于 **Tree-sitter** 的语义分析，不只是简单的正则匹配，而是能识别数据从 `input()` 到 `subprocess.call()` 的完整污染路径。

### 2. 多语言支持与 Java 漏洞审计
展示对跨平台语言（Java/Go）的支持能力。
```bash
# 扫描 Java 漏洞样本
python main.py test_cases/ConfigPreviewServlet.java --static-only --language java
```
*   **演示重点**：展示发现的 `Path Traversal`（路径穿越）和 `Static Taint Finding`。
*   **答辩要点**：本项目支持多语言统一语法分析，不依赖编译器即可实现商用级精度的安全审计。

### 3. [加分项] 内存安全分析模块 (Mem-Safety)
**这是本项目的核心差异化竞争力！**
```bash
# 扫描包含高危内存操作的代码
python main.py test_cases/complex_suite/LegacySystem.c --static-only
```
*   **演示重点**：对应结果中的 `Suspicious Memory Operation` 分组。
*   **答辩要点**：我们实现了对 C 语言缓冲区溢出、Python 调用 `ctypes` 申请可执行内存等“内存破坏漏洞”的精准识别。

### 4. [加分项] 供应链安全 (SCA) 检测
演示系统自动联网查询 Google OSV 漏洞库。
```bash
# 扫描包含第三方依赖的项目（如 requirements.txt）
python main.py . --static-only
```
*   **演示重点**：查看 `[Dependency Analysis]` 结果。
*   **答辩要点**：除了自研代码，我们还实现了**供应链安全检测**。直接对接 Google 官方 API，实时感知第三方组件（如旧版 Flask）的最新已知漏洞。

### 5. Docker 隔离沙箱动态监控 (Dynamic)
**全场最硬核的演示环节！**
```bash
# 在 Docker 沙箱中安全运行并监控恶意脚本
python main.py test_cases/test_python_rce.py --dynamic-only
```
*   **演示重点**：展示系统捕获到的 `System Call`（系统调用）轨迹。
*   **答辩要点**：
    *   **安全性**：所有不可信代码都在 Docker 隔离容器中运行，不会污染老师的演示电脑。
    *   **监控深度**：基于 `strace` 捕获文件删除、网络外联、恶意内存申请。

---

### 6. 全量综合扫描演示 (Full Suite Scan)
展示系统在处理复杂项目时的工程化能力和性能。
```bash
# 对整个综合测试套件进行全量扫描 (静态+动态)
python main.py test_cases/complex_suite
```
*   **演示重点**：
    *   观察控制台滚动的扫描记录（涉及 Python, Java, Go, C, JS 等多种语言）。
    *   观察最后生成的汇总信息（Total Findings）。
*   **答辩要点**：
    *   **一站式扫描**：无需为不同语言切换工具，系统自动识别并分发给对应的分析引擎。
    *   **性能**：展示在数分钟内完成多语言、多维度的深度安全审计的能力。

---

## 第三阶段：可视化报告展示 (Web UI)
在 CLI 逻辑讲完后，最后提一嘴 Web 展示效果。

1. **一键开启 Web 端**：
   ```bash
   python main.py --web --port 5000
   ```
2. **演示逻辑**：
   *   打开 `http://127.0.0.1:5000`。
   *   展示仪表盘（Dashboard）。
   *   打开一份之前扫描生成的 **HTML 报告**。
   *   **答辩要点**：系统提供高度集成的可视化方案，帮助非安全背景的开发人员也能看懂漏洞报告及修复建议。

---

## 答辩评分关键点 (Cheat Sheet)
如果老师提问，请尽量往这些词汇上靠：
- **纵深防御**：静态、动态、供应链三者互补。
- **语义级抽象语法树 (AST)**：比正则扫描更精准。
- **内存安全**：能够防御缓冲区溢出和 Shellcode 攻击。
- **沙箱隔离**：使用 Docker 建立代码“隔离墙”。
- **实时情报**：云端同步 Google OSV 漏洞。

---
## QA
*如有脚本执行错误，请优先检查 Docker 容器是否已在本机启动。*
